/*!
 * animsition v3.5.2
 * http://blivesta.github.io/animsition/
 * Licensed under MIT
 * Author : blivesta
 * http://blivesta.com/
 */
(function(c){var b="animsition";var a={init:function(d){d=c.extend({inClass:"fade-in",outClass:"fade-out",inDuration:1500,outDuration:800,linkElement:".animsition-link",loading:true,loadingParentElement:"body",loadingClass:"animsition-loading",unSupportCss:["animation-duration","-webkit-animation-duration","-o-animation-duration"],overlay:false,overlayClass:"animsition-overlay-slide",overlayParentElement:"body"},d);var e=a.supportCheck.call(this,d);if(!e){if(!("console" in window)){window.console={};window.console.log=function(g){return g}}console.log("Animsition does not support this browser.");return a.destroy.call(this)}var f=a.optionCheck.call(this,d);if(f){a.addOverlay.call(this,d)}if(d.loading){a.addLoading.call(this,d)}return this.each(function(){var j=this;var h=c(this);var i=c(window);var g=h.data(b);if(!g){d=c.extend({},d);h.data(b,{options:d});i.on("load."+b+" pageshow."+b,function(){a.pageIn.call(j)});i.on("unload."+b,function(){});c(d.linkElement).on("click."+b,function(l){l.preventDefault();var m=c(this);var k=m.attr("href");if(l.which===2||l.metaKey||l.shiftKey||navigator.platform.toUpperCase().indexOf("WIN")!==-1&&l.ctrlKey){window.open(k,"_blank")}else{a.pageOut.call(j,m,k)}})}})},addOverlay:function(d){c(d.overlayParentElement).prepend('<div class="'+d.overlayClass+'"></div>')},addLoading:function(d){c(d.loadingParentElement).append('<div class="'+d.loadingClass+'"></div>')},removeLoading:function(){var f=c(this);var d=f.data(b).options;var e=c(d.loadingParentElement).children("."+d.loadingClass);e.fadeOut().remove()},supportCheck:function(e){var j=c(this);var h=e.unSupportCss;var d=h.length;var g=false;if(d===0){g=true}for(var f=0;f<d;f++){if(typeof j.css(h[f])==="string"){g=true;break}}return g},optionCheck:function(d){var f=c(this);var e;if(d.overlay||f.data("animsition-overlay")){e=true}else{e=false}return e},animationCheck:function(h,k,d){var j=c(this);var g=j.data(b).options;var f=typeof h;var e=!k&&f==="number";var i=k&&f==="string"&&h.length>0;if(e||i){h=h}else{if(k&&d){h=g.inClass}else{if(!k&&d){h=g.inDuration}else{if(k&&!d){h=g.outClass}else{if(!k&&!d){h=g.outDuration}}}}}return h},pageIn:function(){var k=this;var j=c(this);var f=j.data(b).options;var d=j.data("animsition-in-duration");var g=j.data("animsition-in");var h=a.animationCheck.call(k,d,false,true);var e=a.animationCheck.call(k,g,true,true);var i=a.optionCheck.call(k,f);if(f.loading){a.removeLoading.call(k)}if(i){a.pageInOverlay.call(k,e,h)}else{a.pageInBasic.call(k,e,h)}},pageInBasic:function(d,e){var f=c(this);f.trigger("animsition.start").css({"animation-duration":e/1000+"s"}).addClass(d).animateCallback(function(){f.removeClass(d).css({opacity:1}).trigger("animsition.end")})},pageInOverlay:function(e,f){var g=c(this);var d=g.data(b).options;g.trigger("animsition.start").css({opacity:1});c(d.overlayParentElement).children("."+d.overlayClass).css({"animation-duration":f/1000+"s"}).addClass(e).animateCallback(function(){g.trigger("animsition.end")})},pageOut:function(o,e){var k=this;var l=c(this);var q=l.data(b).options;var m=o.data("animsition-out");var g=l.data("animsition-out");var j=o.data("animsition-out-duration");var i=l.data("animsition-out-duration");var n=m?m:g;var p=j?j:i;var h=a.animationCheck.call(k,n,true,false);var d=a.animationCheck.call(k,p,false,false);var f=a.optionCheck.call(k,q);if(f){a.pageOutOverlay.call(k,h,d,e)}else{a.pageOutBasic.call(k,h,d,e)}},pageOutBasic:function(d,g,e){var f=c(this);f.css({"animation-duration":g/1000+"s"}).addClass(d).animateCallback(function(){location.href=e})},pageOutOverlay:function(d,j,g){var k=this;var i=c(this);var f=i.data(b).options;var h=i.data("animsition-in");var e=a.animationCheck.call(k,h,true,true);c(f.overlayParentElement).children("."+f.overlayClass).css({"animation-duration":j/1000+"s"}).removeClass(e).addClass(d).animateCallback(function(){location.href=g})},destroy:function(){return this.each(function(){var d=c(this);c(window).unbind("."+b);d.css({opacity:1}).removeData(b)})}};c.fn.animateCallback=function(e){var d="animationend webkitAnimationEnd mozAnimationEnd oAnimationEnd MSAnimationEnd";return this.each(function(){c(this).bind(d,function(){c(this).unbind(d);return e.call(this)})})};c.fn.animsition=function(d){if(a[d]){return a[d].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof d==="object"||!d){return a.init.apply(this,arguments)}else{c.error("Method "+d+" does not exist on jQuery."+b)}}}})(jQuery);